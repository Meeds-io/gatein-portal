<!--

    Copyright (C) 2009 eXo Platform SAS.

    This is free software; you can redistribute it and/or modify it
    under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation; either version 2.1 of
    the License, or (at your option) any later version.

    This software is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
    Lesser General Public License for more detail

    You should have received a copy of the GNU Lesser General Public/
    License along with this software; if not, write to the Free
    Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
    02110-1301 USA, or see the FSF site: http://www.fsf.org.

-->

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>org.gatein</groupId>
    <artifactId>gatein-parent</artifactId>
    <version>1.3.0.Final</version>
  </parent>

  <groupId>org.exoplatform.gatein.portal</groupId>
  <artifactId>exo.portal.parent</artifactId>
  <version>6.0.x-SNAPSHOT</version>
  <packaging>pom</packaging>

  <name>GateIn - Portal</name>

  <properties>
    <maven.compiler.target>1.8</maven.compiler.target>
    <maven.compiler.source>1.8</maven.compiler.source>
    <org.exoplatform.depmgt.version>17.0-RC04</org.exoplatform.depmgt.version>
    <org.exoplatform.kernel.version>6.0.0-RC04</org.exoplatform.kernel.version>
    <org.exoplatform.core.version>6.0.0-RC04</org.exoplatform.core.version>
    <org.exoplatform.ws.version>6.0.0-RC04</org.exoplatform.ws.version>
    <org.exoplatform.gatein.sso.version>6.0.0-RC04</org.exoplatform.gatein.sso.version>
    <org.exoplatform.gatein.wci.version>6.0.0-RC04</org.exoplatform.gatein.wci.version>
    <org.exoplatform.gatein.pc.version>6.0.0-RC04</org.exoplatform.gatein.pc.version>
    <org.exoplatform.gatein.dep.version>2.0.0-RC04</org.exoplatform.gatein.dep.version>
    <org.exoplatform.framework.junit.version>1.2.4-GA</org.exoplatform.framework.junit.version>
    <nl.captcha.simplecaptcha.version>1.1.1.Final-gatein-4</nl.captcha.simplecaptcha.version>
    <org.gatein.api.version>1.0.1.Final</org.gatein.api.version>
    <org.gatein.common.version>2.2.2.Final</org.gatein.common.version>
    <org.gatein.mop.version>1.3.2.Final</org.gatein.mop.version>
    <org.gatein.mgmt.version>2.1.0.Final</org.gatein.mgmt.version>
    <version.reflext>1.1.0</version.reflext>
    <org.staxnav.version>0.9.6</org.staxnav.version>
    <jcip.version>1.0</jcip.version>
    <commons-dbcp.version>1.4</commons-dbcp.version>
    <commons-logging.version>1.1.1</commons-logging.version>
    <commons-lang3.version>3.3.2</commons-lang3.version>
    <com.google.javascript.version>v20170910</com.google.javascript.version>
    <com.google.guava.version>20.0</com.google.guava.version>
    <jboss-dmr.version>1.1.1.Final</jboss-dmr.version>
    <org.jboss.portletbridge.version>3.3.1.Final</org.jboss.portletbridge.version>
    <version.cdi.portlet.integration>1.0.3.Final</version.cdi.portlet.integration>
    <version.org.gatein.naming>1.1.1.Final</version.org.gatein.naming>
    <sun-opends.version>1.0.0</sun-opends.version>
    <berkeleydb.version>3.2.76</berkeleydb.version>
    <!-- Maven Plugin for JS and CSS bundling and Unit Test execution -->
    <com.github.eirslett.frontend.version>1.6</com.github.eirslett.frontend.version>
    <node.version>v10.4.1</node.version>
    <npm.version>6.1.0</npm.version>

    <!-- to move to gatein-dep -->
    <version.scribejava-apis>6.9.0</version.scribejava-apis>
    <version.scribejava-core>6.9.0</version.scribejava-core>

    <!--
    Various log4j properties for unit tests, examples:
    -Dlog4j.debug=true : show log4j bootstrap (useful for debugging resolution to configuration property file)
    -Dlog4j.level=all : very verbose logging (slow down though)
    -->
    <log4j.debug>false</log4j.debug>
    <log4j.level>info</log4j.level>

    <!-- ***************** -->
    <!-- Repository Deployment URLs for eXo -->
    <!-- ***************** -->
    <jboss.releases.repo.url>http://repository.exoplatform.org/service/local/staging/deploy/maven2/</jboss.releases.repo.url>
    <jboss.snapshots.repo.url>http://repository.exoplatform.org/content/repositories/exo-snapshots/</jboss.snapshots.repo.url>

    <!-- ************** -->
    <!-- Build settings -->
    <!-- ************** -->

    <!-- maven-enforcer-plugin -->
    <jdk.min.version>1.8</jdk.min.version>

    <!-- maven-release-plugin -->
    <useReleaseProfile>false</useReleaseProfile>
    <version.release.plugin>2.5.1</version.release.plugin>
    <pushChanges>false</pushChanges>

    <!-- buildnumber-maven-plugin : needs 1.0 for git -->
    <version.buildnumber.plugin>1.0</version.buildnumber.plugin>

    <!-- -->
    <surefire.exo.profiles>hsqldb</surefire.exo.profiles>

    <version.plugin.clean>2.4.1</version.plugin.clean>
    <version.yuicompressor-maven-plugin>0.7.1</version.yuicompressor-maven-plugin>
    <version.plugin.japex>1.2.3</version.plugin.japex>
    <version.plugin.jibx>1.3.1</version.plugin.jibx>
    <version.plugin.javadoc>2.10.3</version.plugin.javadoc>
    <version.jcabi.plugin>0.14</version.jcabi.plugin>
    <parsedVersion.majorVersion>N/A</parsedVersion.majorVersion>
  </properties>

  <scm>
    <connection>scm:git:git://github.com/exoplatform/gatein-portal.git</connection>
    <developerConnection>scm:git:git@github.com:exoplatform/gatein-portal.git</developerConnection>
    <url>https://github.com/exoplatform/gatein-portal</url>
    <tag>HEAD</tag>
  </scm>

  <modules>
    <module>build-config</module>
    <module>component</module>
    <module>webui</module>
    <module>portlet</module>
    <module>web</module>
    <module>examples</module>
    <module>starter</module>
    <module>cdi</module>
  </modules>

  <dependencyManagement>
    <dependencies>      
      <!-- Import versions of external dependencies to use -->
      <dependency>
        <groupId>org.exoplatform</groupId>
        <artifactId>maven-depmgt-pom</artifactId>
        <version>${org.exoplatform.depmgt.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>

      <!-- Needed becuase of a Maven bug. Components depend on gatein-dep and for some
           reasons with Maven 2.2.1 it can't find that dependency anymore
      -->
      <dependency>
        <groupId>org.exoplatform.gatein</groupId>
        <artifactId>gatein-dep</artifactId>
        <version>${org.exoplatform.gatein.dep.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>

      <!-- Kernel dependencies -->
      <dependency>
        <groupId>org.exoplatform.kernel</groupId>
        <artifactId>kernel-parent</artifactId>
        <version>${org.exoplatform.kernel.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <!-- Core dependencies -->
      <dependency>
        <groupId>org.exoplatform.core</groupId>
        <artifactId>core-parent</artifactId>
        <version>${org.exoplatform.core.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <!-- WS dependencies -->
      <dependency>
        <groupId>org.exoplatform.ws</groupId>
        <artifactId>ws-parent</artifactId>
        <version>${org.exoplatform.ws.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>

      <!-- to move to gatein-dep -->
      <dependency>
        <groupId>com.google.javascript</groupId>
        <artifactId>closure-compiler</artifactId>
        <version>${com.google.javascript.version}</version>
      </dependency>

      <dependency>
        <groupId>com.google.guava</groupId>
        <artifactId>guava</artifactId>
        <version>${com.google.guava.version}</version>
      </dependency>

      <dependency>
        <groupId>org.exoplatform.tool</groupId>
        <artifactId>exo.tool.framework.junit</artifactId>
        <version>${org.exoplatform.framework.junit.version}</version>
      </dependency>

      <!-- GateIn components -->
      <dependency>
        <groupId>org.gatein.common</groupId>
        <artifactId>common-logging</artifactId>
        <version>${org.gatein.common.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.api</groupId>
        <artifactId>gatein-api</artifactId>
        <version>${org.gatein.api.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.common</groupId>
        <artifactId>common-common</artifactId>
        <version>${org.gatein.common.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.wci</groupId>
        <artifactId>wci-wci</artifactId>
        <version>${org.exoplatform.gatein.wci.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.wci</groupId>
        <artifactId>wci-tomcat8</artifactId>
        <version>${org.exoplatform.gatein.wci.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.pc</groupId>
        <artifactId>pc-bridge</artifactId>
        <version>${org.exoplatform.gatein.pc.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.pc</groupId>
        <artifactId>pc-federation</artifactId>
        <version>${org.exoplatform.gatein.pc.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.pc</groupId>
        <artifactId>pc-portlet</artifactId>
        <version>${org.exoplatform.gatein.pc.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.pc</groupId>
        <artifactId>pc-api</artifactId>
        <version>${org.exoplatform.gatein.pc.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.pc</groupId>
        <artifactId>pc-controller</artifactId>
        <version>${org.exoplatform.gatein.pc.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.mop</groupId>
        <artifactId>mop-api</artifactId>
        <version>${org.gatein.mop.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.mop</groupId>
        <artifactId>mop-spi</artifactId>
        <version>${org.gatein.mop.version}</version>
      </dependency>
      <!-- Gatein Mgmt -->
      <dependency>
        <groupId>org.gatein.management</groupId>
        <artifactId>gatein-management-api</artifactId>
        <version>${org.gatein.mgmt.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.management</groupId>
        <artifactId>gatein-management-spi</artifactId>
        <version>${org.gatein.mgmt.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.management</groupId>
        <artifactId>gatein-management-core</artifactId>
        <version>${org.gatein.mgmt.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.management</groupId>
        <artifactId>gatein-management-rest</artifactId>
        <version>${org.gatein.mgmt.version}</version>
      </dependency>
      <!-- GateIn Mgmt uses jboss-dmr for model impl -->
      <dependency>
        <groupId>org.jboss</groupId>
        <artifactId>jboss-dmr</artifactId>
        <version>${jboss-dmr.version}</version>
      </dependency>

      <!-- GateIn Sources -->
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.parent</artifactId>
        <version>${project.version}</version>
        <classifier>source-release</classifier>
        <type>zip</type>
      </dependency>
      <!-- GateIn -->
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.api</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.common</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.common</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.controller</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.security</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.security</artifactId>
        <version>4.3.x-forgot-password-SNAPSHOT</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.security-jboss</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.oauth-common</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.oauth-common</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.oauth-web</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.server</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.api</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.resources</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.portal</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.portal</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.pc</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.identity</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.identity</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.resources</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.resources</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.application-registry</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.application-registry</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.scripting</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.management</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.file-storage</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.webui.framework</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.webui.portlet</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.webui.portal</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.webui.eXo</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.webui.core</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.test.core</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.test.core</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.test.web</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.test.web</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.web.portal</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.eXoGadgets</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.portlet.web</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.web.rest</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.portlet.exoadmin</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.web.eXoResources</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal.examples.skins</groupId>
        <artifactId>gatein-sample-skin</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>
      <dependency>
          <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.starter.war</artifactId>
        <version>${project.version}</version>
        <type>war</type>
      </dependency>

      <!-- Reflext -->
      <dependency>
        <groupId>org.reflext</groupId>
        <artifactId>reflext.api</artifactId>
        <version>${version.reflext}</version>
      </dependency>
      <dependency>
        <groupId>org.reflext</groupId>
        <artifactId>reflext.apt</artifactId>
        <version>${version.reflext}</version>
      </dependency>
      <dependency>
        <groupId>org.reflext</groupId>
        <artifactId>reflext.core</artifactId>
        <version>${version.reflext}</version>
      </dependency>
      <dependency>
        <groupId>org.reflext</groupId>
        <artifactId>reflext.jlr</artifactId>
        <version>${version.reflext}</version>
      </dependency>
      <dependency>
        <groupId>org.reflext</groupId>
        <artifactId>reflext.spi</artifactId>
        <version>${version.reflext}</version>
      </dependency>

      <dependency>
        <groupId>org.gatein.captcha</groupId>
        <artifactId>simplecaptcha</artifactId>
        <version>${nl.captcha.simplecaptcha.version}</version>
      </dependency>

      <!-- Staxnav -->
      <dependency>
        <groupId>org.staxnav</groupId>
        <artifactId>staxnav.core</artifactId>
        <version>${org.staxnav.version}</version>
      </dependency>

      <dependency>
        <groupId>commons-dbcp</groupId>
        <artifactId>commons-dbcp</artifactId>
        <version>${commons-dbcp.version}</version>
        <exclusions>
          <exclusion>
            <groupId>xerces</groupId>
            <artifactId>xercesImpl</artifactId>
          </exclusion>
        </exclusions>
      </dependency>

      <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-lang3</artifactId>
        <version>${commons-lang3.version}</version>
      </dependency>

      <!-- Portlet Bridge -->
      <dependency>
        <groupId>org.jboss.portletbridge</groupId>
        <artifactId>portletbridge-api</artifactId>
        <version>${org.jboss.portletbridge.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jboss.portletbridge</groupId>
        <artifactId>portletbridge-impl</artifactId>
        <version>${org.jboss.portletbridge.version}</version>
      </dependency>

      <!-- CDI/Portlet Integration Library -->
      <dependency>
        <groupId>org.gatein</groupId>
        <artifactId>cdi-portlet-integration</artifactId>
        <version>${version.cdi.portlet.integration}</version>
      </dependency>

      <!-- needed for the IBM jdk, should be remove in the future when IBM fixes its jdk (see GTNPORTAL-636) -->
      <dependency>
        <groupId>net.jcip</groupId>
        <artifactId>jcip-annotations</artifactId>
        <version>${jcip.version}</version>
      </dependency>

      <!-- SSO -->
      <dependency>
        <groupId>org.exoplatform.gatein.sso</groupId>
        <artifactId>sso-auth-callback</artifactId>
        <version>${org.exoplatform.gatein.sso.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.sso</groupId>
        <artifactId>sso-agent</artifactId>
        <version>${org.exoplatform.gatein.sso.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.sso</groupId>
        <artifactId>spnego</artifactId>
        <version>${org.exoplatform.gatein.sso.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.sso</groupId>
        <artifactId>sso-integration</artifactId>
        <version>${org.exoplatform.gatein.sso.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.sso</groupId>
        <artifactId>sso-saml-plugin</artifactId>
        <version>${org.exoplatform.gatein.sso.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.sso.integration-configs</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.exoplatform.gatein.portal</groupId>
        <artifactId>exo.portal.component.web.sso.agents-configs</artifactId>
        <version>${project.version}</version>
      </dependency>

      <!-- OAuth -->
      <dependency>
        <groupId>com.github.scribejava</groupId>
        <artifactId>scribejava-apis</artifactId>
        <version>${version.scribejava-apis}</version>
      </dependency>
      <dependency>
        <groupId>com.github.scribejava</groupId>
        <artifactId>scribejava-core</artifactId>
        <version>${version.scribejava-core}</version>
      </dependency>

      <!-- GateIn CDI -->
      <dependency>
        <groupId>org.gatein.cdi</groupId>
        <artifactId>gatein-cdi-injection</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.gatein.cdi</groupId>
        <artifactId>gatein-cdi-contexts</artifactId>
        <version>${project.version}</version>
      </dependency>

      <!--Packaging-->
      <dependency>
        <groupId>org.gatein.naming</groupId>
        <artifactId>gatein-naming</artifactId>
        <version>${version.org.gatein.naming}</version>
      </dependency>
      <dependency>
         <groupId>sun-opends</groupId>
         <artifactId>OpenDS</artifactId>
         <version>${sun-opends.version}</version>
         <scope>test</scope>
      </dependency>
      <dependency>
         <groupId>berkeleydb</groupId>
         <artifactId>je</artifactId>
         <version>${berkeleydb.version}</version>
         <scope>test</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>

  <dependencies>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>jul-to-slf4j</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>commons-logging</groupId>
      <artifactId>commons-logging</artifactId>
      <version>${commons-logging.version}</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.hsqldb</groupId>
      <artifactId>hsqldb</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.javassist</groupId>
      <artifactId>javassist</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>

  <build>
    <resources>
      <resource>
        <directory>src/main/java</directory>
        <includes>
          <include>**/*.properties</include>
          <include>**/*.xml</include>
          <include>**/*.xsd</include>
        </includes>
      </resource>
      <resource>
        <directory>src/main/resources</directory>
        <includes>
          <include>**/*.*</include>
        </includes>
      </resource>
    </resources>
    <testResources>
      <testResource>
        <directory>src/test/java</directory>
        <includes>
          <include>**/*.properties</include>
          <include>**/*.xml</include>
        </includes>
      </testResource>
      <testResource>
        <directory>src/test/resources</directory>
      </testResource>
    </testResources>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>exec-maven-plugin</artifactId>
          <version>1.1.1</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>build-helper-maven-plugin</artifactId>
          <version>1.4</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-surefire-plugin</artifactId>
          <configuration>
            <argLine>-Xms512m -Xmx512m</argLine>
            <systemProperties>
              <property>
                <name>exo.files.storage.dir</name>
                <value>target/files</value>
              </property>
              <property>
                <name>log4j.configuration</name>
                <value>gatein-log4j.properties</value>
              </property>
              <property>
                <name>log4j.debug</name>
                <value>${log4j.debug}</value>
              </property>
              <property>
                <name>log4j.level</name>
                <value>${log4j.level}</value>
              </property>
              <property>
                <name>gatein.test.output.path</name>
                <value>${project.build.directory}</value>
              </property>
              <property>
                <name>org.apache.commons.logging.Log</name>
                <value>org.apache.commons.logging.impl.Log4JLogger</value>
              </property>
              <property>
                <name>org.apache.commons.logging.simplelog.defaultlog</name>
                <value>info</value>
              </property>
              <property>
                <name>org.apache.commons.logging.simplelog.log.[eXo]</name>
                <value>debug</value>
              </property>
              <property>
                <name>org.apache.commons.logging.simplelog.log.net.hibernate</name>
                <value>warn</value>
              </property>
              <property>
                <name>java.naming.factory.initial</name>
                <value>org.exoplatform.services.naming.SimpleContextFactory</value>
              </property>
              <property>
                <name>com.arjuna.ats.arjuna.objectstore.objectStoreDir</name>
                <value>${project.build.directory}/com.arjuna.ats.arjuna.objectstore.objectStoreDir</value>
              </property>
              <property>
                <name>ObjectStoreEnvironmentBean.objectStoreDir</name>
                <value>${project.build.directory}/ObjectStoreEnvironmentBean.objectStoreDir</value>
              </property>
              <property>
                <name>exo.profiles</name>
                <value>${surefire.exo.profiles}</value>
              </property>
            </systemProperties>
          </configuration>
        </plugin>
        <!-- we shouldn't need to specify this plugin here, but the maven compiler plugin is not accepting its memory option properties. This should be removed when we can just set the compiler properties -->
        <!-- we need to specify this as building GateIn can cause memory problems with some JDKs (ie IBM) -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <configuration>
            <fork>true</fork>
            <meminitial>256m</meminitial>
            <maxmem>1024m</maxmem>
          </configuration>
        </plugin>
        <plugin>
          <groupId>com.jcabi</groupId>
          <artifactId>jcabi-maven-plugin</artifactId>
          <version>${version.jcabi.plugin}</version>
          <executions>
            <execution>
              <id>weave-classes</id>
              <phase>process-classes</phase>
              <goals>
                <goal>ajc</goal>
              </goals>
              <configuration>
                <classesDirectory>${project.build.outputDirectory}</classesDirectory>
              </configuration>
            </execution>
            <execution>
              <id>weave-test-classes</id>
              <phase>process-test-classes</phase>
              <goals>
                <goal>ajc</goal>
              </goals>
              <configuration>
                <classesDirectory>${project.build.testOutputDirectory}</classesDirectory>
              </configuration>
            </execution>
          </executions>
        </plugin>
        <plugin>
          <groupId>org.jibx</groupId>
          <artifactId>maven-jibx-plugin</artifactId>
          <version>${version.plugin.jibx}</version>
          <dependencies>
            <!--Workaround https://issues.apache.org/jira/browse/BCEL-173-->
            <dependency>
              <groupId>org.apache.bcel</groupId>
              <artifactId>bcel</artifactId>
              <version>6.0-SNAPSHOT</version>
            </dependency>
          </dependencies>
        </plugin>
        <!--This plugin's configuration is used to store Eclipse m2e settings only. It has no influence on the Maven build itself.-->
        <plugin>
          <groupId>org.eclipse.m2e</groupId>
          <artifactId>lifecycle-mapping</artifactId>
          <version>1.0.0</version>
          <configuration>
            <lifecycleMappingMetadata>
              <pluginExecutions>
                <pluginExecution>
                  <pluginExecutionFilter>
                    <groupId>
                      org.apache.maven.plugins
                    </groupId>
                    <artifactId>
                      maven-antrun-plugin
                    </artifactId>
                    <versionRange>[1.4,)</versionRange>
                    <goals>
                      <goal>run</goal>
                    </goals>
                  </pluginExecutionFilter>
                  <action>
                    <ignore />
                  </action>
                </pluginExecution>
                <pluginExecution>
                  <pluginExecutionFilter>
                    <groupId>
                      org.jboss.maven.plugins
                    </groupId>
                    <artifactId>
                      maven-jdocbook-plugin
                    </artifactId>
                    <versionRange>[2.3.4,)</versionRange>
                    <goals>
                      <goal>generate</goal>
                      <goal>resources</goal>
                    </goals>
                  </pluginExecutionFilter>
                  <action>
                    <ignore />
                  </action>
                </pluginExecution>
                <pluginExecution>
                  <pluginExecutionFilter>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>xml-maven-plugin</artifactId>
                    <versionRange>[1.0,)</versionRange>
                    <goals>
                      <goal>generate</goal>
                      <goal>resources</goal>
                    </goals>
                  </pluginExecutionFilter>
                  <action>
                    <ignore />
                  </action>
                </pluginExecution>
                <pluginExecution>
                  <pluginExecutionFilter>
                    <groupId>org.jibx</groupId>
                    <artifactId>
                      maven-jibx-plugin
                    </artifactId>
                    <versionRange>[${version.plugin.jibx},)</versionRange>
                    <goals>
                      <goal>bind</goal>
                    </goals>
                  </pluginExecutionFilter>
                  <action>
                    <ignore />
                  </action>
                </pluginExecution>
                <pluginExecution>
                  <pluginExecutionFilter>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <versionRange>[1.0.0,)</versionRange>
                    <goals>
                      <goal>copy-dependencies</goal>
                      <goal>unpack</goal>
                    </goals>
                  </pluginExecutionFilter>
                  <action>
                    <ignore />
                  </action>
                </pluginExecution>
              </pluginExecutions>
            </lifecycleMappingMetadata>
          </configuration>
        </plugin>
        <plugin>
          <groupId>com.sun.japex</groupId>
          <artifactId>japex-maven-plugin</artifactId>
          <version>${version.plugin.japex}</version>
        </plugin>
        <plugin>
          <!-- Use to compress javascript gadget features -->
          <groupId>net.sf.alchim</groupId>
          <artifactId>yuicompressor-maven-plugin</artifactId>
          <version>${version.yuicompressor-maven-plugin}</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-javadoc-plugin</artifactId>
          <version>${version.plugin.javadoc}</version>
          <configuration>
            <archive>
              <manifest>
                <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
              </manifest>
              <manifestEntries>
                <Date>${maven.build.timestamp}</Date>
                <Implementation-URL>${project.url}</Implementation-URL>
                <SCM-URL>${project.scm.connection}</SCM-URL>
                <SCM-Revision>${buildNumber}</SCM-Revision>
                <Specification-Title>${project.name}</Specification-Title>
                <Specification-Version>${parsedVersion.majorVersion}.0</Specification-Version>
                <Specification-Vendor>${project.organization.name}</Specification-Vendor>
                <Implementation-Title>${project.name}</Implementation-Title>
                <Implementation-Version>${project.version}</Implementation-Version>
                <Implementation-Vendor>${project.organization.name}</Implementation-Vendor>
              </manifestEntries>
            </archive>
            <tags>
              <tag>
                <name>LevelAPI</name>
                <placement>a</placement>
                <head>eXo level API</head>
              </tag>
              <tag>
                <name>anchor</name>
                <placement>a</placement>
                <head>eXo anchor for generated doc on REST API</head>
              </tag>
              <tag>
                <name>request</name>
                <placement>a</placement>
                <head>eXo anchor for generated doc on REST API</head>
              </tag>
              <tag>
                <name>response</name>
                <placement>a</placement>
                <head>eXo response for generated doc on REST API</head>
              </tag>
              <tag>
                <name>format</name>
                <placement>a</placement>
                <head>eXo format for generated doc on REST API</head>
              </tag>
              <tag>
                <name>authentication</name>
                <placement>a</placement>
                <head>eXo authentication for generated doc on REST API</head>
              </tag>
              <tag>
                <name>notificationId</name>
                <placement>a</placement>
                <head>eXo notificationId for generated doc on REST API</head>
              </tag>
            </tags>
          </configuration>
        </plugin>

      </plugins>
    </pluginManagement>

    <plugins>
      <plugin>
        <artifactId>maven-clean-plugin</artifactId>
        <version>${version.plugin.clean}</version>
      </plugin>
    </plugins>
  </build>

  <profiles>
    <profile>
      <id>release</id>
      <build>
        <plugins>
          <!-- Create a source-release artifact that contains the fully buildable
               project directory source structure. This is the artifact which is
               the official subject of any release vote. -->
          <plugin>
            <artifactId>maven-assembly-plugin</artifactId>
            <executions>
              <execution>
                <id>source-release-assembly</id>
                <phase>package</phase>
                <goals>
                  <goal>single</goal>
                </goals>
                <configuration>
                  <runOnlyAtExecutionRoot>true</runOnlyAtExecutionRoot>
                  <descriptorRefs>
                    <descriptorRef>source-release</descriptorRef>
                  </descriptorRefs>
                  <tarLongFileMode>gnu</tarLongFileMode>
                  <appendAssemblyId>true</appendAssemblyId>
                </configuration>
              </execution>
            </executions>
            <dependencies>
              <dependency>
                <groupId>org.apache.apache.resources</groupId>
                <artifactId>apache-source-release-assembly-descriptor</artifactId>
                <version>${version.apache-source-release-assembly-descriptor}</version>
              </dependency>
            </dependencies>
          </plugin>
        </plugins>
      </build>
      <properties>
        <!-- Produce project sources package distribution -->
        <version.apache-source-release-assembly-descriptor>1.0.4</version.apache-source-release-assembly-descriptor>
      </properties>
    </profile>
    <profile>
      <id>mysql5</id>
      <dependencies>
        <dependency>
          <groupId>mysql</groupId>
          <artifactId>mysql-connector-java</artifactId>
          <version>5.1.6</version>
          <scope>test</scope>
        </dependency>
        <dependency>
          <groupId>log4j</groupId>
          <artifactId>log4j</artifactId>
          <version>1.2.16</version>
          <scope>test</scope>
        </dependency>
      </dependencies>
      <properties>
        <surefire.exo.profiles>mysql</surefire.exo.profiles>
      </properties>
    </profile>
    <profile>
      <id>h2</id>
      <dependencies>
        <dependency>
          <groupId>com.h2database</groupId>
          <artifactId>h2</artifactId>
          <version>1.3.165</version>
          <scope>test</scope>
        </dependency>
      </dependencies>
      <properties>
        <surefire.exo.profiles>h2</surefire.exo.profiles>
      </properties>
    </profile>
    <profile>
      <id>pkg-jbossas710</id>
      <activation>
        <property>
          <name>gatein.dev</name>
          <value>jbossas710</value>
        </property>
      </activation>

      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>check-servers-dir-specified</id>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireProperty>
                      <message>"

                        Build profile 'jbossas710' is no longer supported. You may want to use: 'jbossas711'.

                        "
                      </message>
                    </requireProperty>
                  </rules>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>pkg-jbossas712</id>
      <activation>
        <property>
          <name>gatein.dev</name>
          <value>jbossas712</value>
        </property>
      </activation>

      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-enforcer-plugin</artifactId>
            <executions>
              <execution>
                <id>check-servers-dir-specified</id>
                <goals>
                  <goal>enforce</goal>
                </goals>
                <configuration>
                  <rules>
                    <requireProperty>
                      <message>"

                        Build profile 'jbossas712' is no longer supported. You may want to use: 'jbossas713'.

                        "
                      </message>
                    </requireProperty>
                  </rules>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>project-repositories</id>
      <activation>
        <property>
          <name>!skip-project-repositories</name>
        </property>
      </activation>
      <!-- To be removed and replaced by settings in user config -->
      <repositories>
        <repository>
          <id>jboss-public-repository-group</id>
          <name>JBoss Public Maven Repository Group</name>
          <url>https://repository.jboss.org/nexus/content/groups/public/</url>
          <layout>default</layout>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </releases>
          <snapshots>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </snapshots>
        </repository>
        <repository>
          <id>caja</id>
          <url>http://google-caja.googlecode.com/svn/maven</url>
        </repository>
        <repository>
          <id>oauth</id>
          <url>http://oauth.googlecode.com/svn/code/maven</url>
        </repository>

        <!-- Redefine legacy jboss repository to go to JBoss Nexus instead to http://repository.jboss.org/maven2 -->
        <repository>
          <id>jboss</id>
          <name>JBoss Public Maven Repository Group</name>
          <url>https://repository.jboss.org/nexus/content/groups/public/</url>
          <layout>default</layout>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </releases>
          <snapshots>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </snapshots>
        </repository>
        <repository>
          <id>repository.jboss.org</id>
          <name>JBoss Public Maven Repository Group</name>
          <url>https://repository.jboss.org/nexus/content/groups/public/</url>
          <layout>default</layout>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </releases>
          <snapshots>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </snapshots>
        </repository>
        <repository>
          <id>exo-public-repository-group</id>
          <name>eXo Public Maven Repository Group</name>
          <url>http://repository.exoplatform.org/content/groups/public</url>
          <layout>default</layout>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </releases>
          <snapshots>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </snapshots>
        </repository>
        <!--<repository>-->
        <!--<releases>-->
        <!--<enabled>false</enabled>-->
        <!--</releases>-->
        <!--<snapshots>-->
        <!--<enabled>true</enabled>-->
        <!--</snapshots>-->
        <!--<id>snapshots.jboss.org</id>-->
        <!--<url>https://repository.jboss.org/nexus/content/groups/public/</url>-->
        <!--</repository>-->
      </repositories>
      <pluginRepositories>
        <pluginRepository>
          <id>jboss-public-repository-group</id>
          <name>JBoss Public Maven Repository Group</name>
          <url>https://repository.jboss.org/nexus/content/groups/public/</url>
          <layout>default</layout>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </releases>
          <snapshots>
            <enabled>true</enabled>
            <updatePolicy>never</updatePolicy>
          </snapshots>
        </pluginRepository>
      </pluginRepositories>
    </profile>
  </profiles>
</project>
